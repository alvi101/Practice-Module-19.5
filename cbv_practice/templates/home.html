{% extends 'base.html' %}

{% block content %}
    
    <div class="container mt-5">
      {% if user.is_authenticated %}
        <h1>Welcome {{user}}</h1>
      {% endif %}
      
    <table class="table table-dark">
        <thead>
          <tr>
            <th scope="col">id</th>
            <th scope="col">Musician Name</th>
            <th scope="col">Email</th>
            <th scope="col">Album Rating</th>
            <th scope="col">Intrument Type</th>
            <th scope="col">Album Name</th>
            <th scope="col">Release Date</th>
            {% if user.is_authenticated %}
            <th scope="col">Actions</th>
            {% endif %}
          </tr>
        </thead>
        <tbody>
        {% for album in albums %}
          <tr>
            <th scope="row">{{album.id}}</th>
            <td>{{album.musician.first_name}} {{album.musician.last_name}}</td>
            <td>{{album.musician.email}}</td>
            <td>{{album.rating}}</td>
            <td>{{album.musician.instrument_type}}</td>
            <td>{{album.album_name}}</td>
            <td>{{album.release_date}}</td>
            {% if user.is_authenticated %}
            <td> 
            <a class="btn btn-warning mx-2" href="{% url 'edit_album' album.id %}">Edit</a>
            <a class="btn btn-danger mx-0" href="">Delete</a>
            </td>
            {% endif %}
          </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>

{% endblock content %}